<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;500;700&family=Sometype+Mono:wght@400;500;600;700&display=swap" rel="stylesheet">
    <link rel="manifest" href="{{ url_for('manifest') }}">
    <link rel="stylesheet" href="{{ url_for('static', filename='css/gamify.css') }}">
    <link rel="stylesheet" href="{{ url_for('static', filename='css/header.css') }}">
    <title>Gamify — UI Tester</title>
</head>
<body>
  <header class="site-header">
    <a href="{{ url_for('index') }}"><div class="brand"><img src="{{ url_for('static', filename='images/GAMIFY_LOGO.png') }}" alt="Gamify logo" width="150px"></div></a>

    <form class="header-search" role="search" action="{{ url_for('home') }}" method="get">
      <input type="search" name="q" value="{{ query|default('') }}" placeholder="Search games, genres, developers..." aria-label="Search games">
      <button type="submit">Search</button>
    </form>

    <nav class="main-nav">
      <a class="nav-link" href="{{ url_for('index') }}">Landing</a>
      <a class="nav-link" href="{{ url_for('login') }}">Sign In</a>
      <a class="nav-link" href="{{ url_for('signup') }}">Sign Up</a>
      <a class="nav-link" href="{{ url_for('profile') }}">Profile</a>
    </nav>
  </header>
    
    <main class="site-main">
        <!-- Show carousels only when NO search query is active -->
        {% if not query %}
          <!-- Categories (Netflix-like horizontal carousels) -->
          <section class="category">
              <h2 class="category-title">Featured</h2>
              <div class="carousel">
                  <article class="game-card">
                      <img src="https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcR8lvHK8kV4nkgbbwPqun1Fty0q7wBMbbTzcw&s" alt="MarioKart8 Deluxe">
                      <h3>Mariokart 8 Deluxe</h3>
                  </article>
                  <article class="game-card">
                      <img src="https://i.ytimg.com/vi/adGdyCdvKz4/maxresdefault.jpg" alt="Fortnite">
                      <h3>Fortnite</h3>
                  </article>
                  <article class="game-card">
                      <img src="https://assets.xboxservices.com/assets/4e/bc/4ebcb533-e184-42f3-833b-9aa47a81f39e.jpg?n=153142244433_Poster-Image-1084_1920x720.jpg" alt="Valorant">
                      <h3>Valorant</h3>
                  </article>
                  <article class="game-card">
                      <img src="https://images.euronews.com/articles/stories/09/54/00/96/1536x864_cmsv2_68a344ee-4d62-5f20-8363-be6891d28e64-9540096.jpg" alt="GTA 6">
                      <h3>Grand Theft Auto 6</h3>
                  </article>
              </div>
          </section>

          <section class="category">
              <h2 class="category-title">Action</h2>
              <div class="carousel">
                  <article class="game-card">
                      <img src="" alt="Action 1">
                      <h3>Action Game 1</h3>
                  </article>
                  <article class="game-card">
                      <img src="" alt="Action 2">
                      <h3>Action Game 2</h3>
                  </article>
                  <article class="game-card">
                      <img src="" alt="Action 3">
                      <h3>Action Game 3</h3>
                  </article>
              </div>
          </section>

          <section class="category">
              <h2 class="category-title">Indie</h2>
              <div class="carousel">
                  <article class="game-card">
                      <img src="" alt="Indie 1">
                      <h3>Indie Game 1</h3>
                  </article>
                  <article class="game-card">
                      <img src="" alt="Indie 2">
                      <h3>Indie Game 2</h3>
                  </article>
                  <article class="game-card">
                      <img src="" alt="Indie 3">
                      <h3>Indie Game 3</h3>
                  </article>
              </div>
          </section>
        {% endif %}

        <!-- Show search results when query is active -->
        {% if query %}
          {% if games and games|length > 0 %}
            {% set g = games[0] %}
            <section class="search-result" style="max-width:1200px;margin:40px auto;padding:20px;">
              <h2 style="color:#fff;margin-bottom:24px;">Results for "{{ query }}"</h2>
              <article class="game-card" style="max-width: 900px; margin:0 auto; border-radius: 12px; overflow: hidden; background: linear-gradient(180deg, rgba(255,255,255,0.05), rgba(255,255,255,0.02));border:1px solid rgba(255,255,255,0.1);">
                <img src="{{ g.banner }}" alt="{{ g.gameName }}" style="width:100%;height:420px;object-fit:cover;display:block;">
                <div style="padding:18px;background:rgba(0,0,0,0.4);">
                  <h3 style="margin:0 0 8px 0;color:#fff;font-size:24px;">{{ g.gameName }}</h3>
                  <p style="margin:0 0 8px 0;color:rgba(255,255,255,0.8);"><strong>{{ g.genre }}</strong> • {{ g.gameDev }}</p>
                  <p style="margin:0 0 12px 0;color:rgba(255,255,255,0.9);line-height:1.5;">{{ g.gameDesc }}</p>
                  <p style="margin:0;color:rgba(255,255,255,0.6);font-size:13px;">Age Rating: {{ g.ageRating }}</p>
                </div>
              </article>
            </section>
          {% else %}
            <section style="max-width:1200px;margin:60px auto;padding:20px;text-align:center;">
              <h2 style="color:#fff;margin-bottom:12px;">No search results found</h2>
              <p style="color:rgba(255,255,255,0.7);font-size:16px;">No games match "{{ query }}". Try searching by title, genre, or developer.</p>
            </section>
          {% endif %}
        {% endif %}
    </main>

    <footer class="site-footer">
        <small>© Gamify — Games catalogue demo</small>
    </footer>

    <script src="{{ url_for('static', filename='js/gamify.js') }}"></script>
</body>
</html>
